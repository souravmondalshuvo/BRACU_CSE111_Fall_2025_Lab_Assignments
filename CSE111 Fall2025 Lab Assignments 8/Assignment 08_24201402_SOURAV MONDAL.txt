//HomeWorkTask01

public class Butterfly extends Caterpillar {
    
    public Butterfly(String food, int age) {
        super(food, age);
    }

    @Override
    public void transform() {
        energy -= 5;
        System.out.println("Caterpillar transforms into Butterfly");
    }

    @Override
    public void eat(int amount) {
        energy += amount * 5;
        System.out.println("Butterfly lost energy while flying and absorbed necter");
    }

    @Override
    public void showDetails() {
        System.out.println("Food: " + food);
        System.out.println("Age: " + age);
        System.out.println("Energy: " + energy + " joules");
    }
}

public class Moth extends Caterpillar {
    
    public Moth(String food, int age) {
        super(food, age);
    }

    @Override
    public void transform() {
        energy -= 2.5;
        System.out.println("Caterpillar transforms into Moth");
    }

    @Override
    public void eat(int amount) {
        energy += amount * 2.5;
        System.out.println("Moth lost energy due to noctural activity");
    }

    @Override
    public void showDetails() {
        System.out.println("Food: " + food);
        System.out.println("Age: " + age);
        System.out.println("Energy: " + energy + " joules");
    }
}

//HomeWorkTask02

public class Concert {
    
    public String venue;
    public String show_time;
    public int artist_count;
    public int ticket_sold;
    public String[] artists;
    private static int total_ticket_sold;

    public Concert(String venue, String show_time) {
        this.venue = venue;
        this.show_time = show_time;
        artists = new String[5];
    }

    public void addArtist(String name) {
        if(artist_count < 5) {
            artists[artist_count] = name;
            artist_count++;
        }
    }

    public void buyTicket(String zone, int quantity) {

        int price = 0;

        if(zone.equals("A")) {
            price = 500;
        } else if(zone.equals("B")) {
            price = 1000;
        }

        int total_price = price * quantity;
        ticket_sold += quantity;
        total_ticket_sold += quantity;

        System.out.println("Total price: " + total_price);
    }

    public void buyTicket(String zone) {
        buyTicket(zone, 1);
    }

    public void showDetails() {
        System.out.println("Venue: " + venue);
        System.out.println("Showtime: " + show_time);
        
        System.out.println("Artist: ");
        for(int i = 0; i < artist_count; i++) {
            System.out.println("-" + artists[i]);
        }

        System.out.println("Tickets sold in this concert: " + ticket_sold);
    }

    public static void showTotalTicketsSold() {
        System.out.println("Total tickets sold (all venues): " + total_ticket_sold);
    }

    public static void addToTotalTickets(int quantity) {
        total_ticket_sold += quantity;
    }
}

public class VIPConcert extends Concert {

    public VIPConcert(String venue, String show_time) {
        super(venue, show_time);
    }
 
    public void buyTicket() {
        ticket_sold += 1;
        Concert.addToTotalTickets(1);
        System.out.println("Total price: 2000");
    }
}

public class Audience {
    private String name;

    public Audience(String name) {
        this.name = name;
    }

    public void buyConcertTicket(Concert concert, String zone, int quantity) {
        System.out.println(name + " bought " + quantity + " ticket(s) in Zone " + zone);
        concert.buyTicket(zone, quantity);
    }

    public void buyConcertTicket(Concert concert, String zone) {
        System.out.println(name + " bought 1 ticket(s) in Zone " + zone);
        concert.buyTicket(zone);
    }
 
    public void buyConcertTicket(VIPConcert concert) {
        System.out.println(name + " bought 1 ticket(s) in Zone VIP");
        concert.buyTicket();
    }
}

//HomeWorkTask03

public class BikeDriver extends GenericDriver {
    
    private String profile;
    public static String[] restrictedAreas = new String[0];

    public BikeDriver(String name, String profile) {
        super(name);
        this.profile = profile;
    }

    @Override
    public String toString() {
        return getName() + "'s driver profile is " + profile;
    }

    @Override
    public String acceptRide(boolean has_vehicle) {
        String result = super.acceptRide(has_vehicle);
        result += "\n" + toString();
        return result;
    }

    public void fightRestriction(String[] area) {
        
        for(int i = 0; i < area.length; i++) {
            boolean is_restricted = false;
            for(int j = 0; j < restrictedAreas.length; j++) {
                if(area[i].equals(restrictedAreas[j])) {
                    is_restricted = true;
                    break;
                }
            }

            if(is_restricted) {
                System.out.println(getName() + " cannot enter " + area[i]);
            } else {
                System.out.println(getName() + " can enter " + area[i]);
            }
        }
    }

    public static void restrictedAreas(String area) {
        String[] areas = new String[restrictedAreas.length + 1];

        for(int i = 0; i < restrictedAreas.length; i++) {
            areas[i] = restrictedAreas[i];
        }

        areas[restrictedAreas.length] = area;
        restrictedAreas = areas;
    }
}

public class CarDriver extends GenericDriver {
    
    public static String[] restrictedAreas = new String[0];

    public CarDriver(String name) {
        super(name);
    }

    @Override
    public String toString() {
        return getName() + "'s driver profile is a Premium";
    }

    @Override
    public String acceptRide(boolean has_vehicle) {
        String result = super.acceptRide(has_vehicle);
        result += "\n" + getName() + "'s driver profile is a Premium";
        return result;
    }

    @Override
    public void hasSafetyTraining() {
        super.hasSafetyTraining();
        System.out.println("Premium drivers receive extra safety briefings.");
    }

    public void fightRestriction(String[] area) {
        
        for(int i = 0; i < area.length; i++) {
            boolean is_restricted = false;
            for(int j = 0; j < restrictedAreas.length; j++) {
                if(area[i].equals(restrictedAreas[j])) {
                    is_restricted = true;
                    break;
                }
            }

            if(is_restricted) {
                System.out.println(getName() + " cannot enter " + area[i]);
            } else {
                System.out.println(getName() + " can enter " + area[i]);
            }
        }
    }

    public static void restrictedAreas(String area) {
        String[] areas = new String[restrictedAreas.length + 1];

        for(int i = 0; i < restrictedAreas.length; i++) {
            areas[i] = restrictedAreas[i];
        }

        areas[restrictedAreas.length] = area;
        restrictedAreas = areas;
    }
}

//HomeWorkTask04

public class ElectricCar extends Vehicle {
    
    public int battery_capacity;
    public static int EV_counter;

    public ElectricCar(String model, int price, int battery_capacity) {
        super(model, price);
        this.battery_capacity = battery_capacity;
        
        if(EV_counter < 10) {
            this.vehicleId = "EV00" + EV_counter;
        } else if(EV_counter < 100) {
            this.vehicleId = "EV0" + EV_counter;
        } else {
            this.vehicleId = "EV" + EV_counter;
        }

        System.out.println("Vehicle ID: " + this.vehicleId + " created");
    }

    @Override
    public void vehicleDetail() {
        super.vehicleDetail();
        System.out.println("Type: Electric Vehicle");
        System.out.println("Battery Capacity: " + battery_capacity + "kWh");
    }

    public static void markAsSoldEV(ElectricCar E_Car) {
        E_Car.sold = true;
    }
}

public class Car extends Vehicle {
    
    public int seat;
    public static int car_counter;
    public static Car[] cars = new Car[0];

    public Car(String model, int price, int seat) {
        super(model, price);
        this.seat = seat;
        car_counter++;

        if(car_counter < 10) {
            this.vehicleId = "CAR00" + car_counter;
        } else if(car_counter < 100) {
            this.vehicleId = "CAR0" + car_counter;
        } else {
            this.vehicleId = "CAR" + car_counter;
        }

        System.out.println("Vehicle ID: " + this.vehicleId + " created");

        Car[] new_cars = new Car[cars.length + 1];

        for(int i = 0; i < cars.length; i++) {
            new_cars[i] = cars[i];
        }

        new_cars[cars.length] = this;
        cars = new_cars;
    }

    @Override
    public void vehicleDetail() {
        super.vehicleDetail();
        System.out.println("Type: Regular Car");
        System.out.println("Seats: " + seat);
    }

    public static void markAsSold(Car car) {
        car.sold = true;
    }

    public static void showAllCars() {
        System.out.println("Total Car: " + cars.length);

        for(int i = 0; i < cars.length; i++) {
            System.out.print(cars[i].vehicleId + " : " + cars[i].model + " - ");

            if(cars[i].sold) {
                System.out.println("sold");
            } else {
                System.out.println("available");
            }
        }
    }

    public static void showAllAvailableCars() {
        System.out.println("Total Car: " + cars.length);

        System.out.println("Available Cars: ");
        for(int i = 0; i < cars.length; i++) {

            if(!cars[i].sold) {
                System.out.println(cars[i].vehicleId + " : " + cars[i].model);
            }
        }
    }
}